{{define "views/index"}}

<div class="container" style="display: none">
    <pre class="tt" id="debug">
        some debug text
    </pre>
</div>
<link href="/static/bootstrap-5.1.3-dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
<div class="container" id="controlForm">

    <div class="card">
        <div class="card-header">
            Common
        </div>

        <ul class="list-group list-group-flush">
            <li class="list-group-item">
                <div class="row">
                    <div class="col-md-3">
                        <label class="form-label">Режим</label>
                        {{if .Connected}}
                        <div>подключено</div>
                        {{else}}
                        <div>не подключено</div>
                        {{end}}
                    </div>
                    <div class="col-md-3">
                        <label for="mode" class="form-label">Режим</label>
                        <input type="range" class="form-range" id="mode" min="1" max="3" value="{{.Mode}}">
                    </div>
                    <div class="col-md-3">
                        <label for="masterVolume" class="form-label">Master Volume</label>
                        <input type="range" class="form-range" id="masterVolume" min="0" max="31" value="{{.Settings.MasterVolume}}">
                    </div>
                </div>
            </li>
        </ul>
    </div>

    <br>

    <div class="row">
        <div class="col-md-3">
            <div class="card">
                <div class="card-header">
                    NoiseGate
                </div>
                <ul class="list-group list-group-flush">
                    <li class="list-group-item">
                        <label for="noiseGateThresh" class="form-label">Threshold</label>
                        <input type="range" class="form-range"
                               id="noiseGateThresh"
                               name="noiseGateThresh"
                               min="0" max="31" value="{{.Settings.NoiseGate.Thresh}}">
                    </li>
                    <li class="list-group-item">
                        <label for="noiseGateDecay" class="form-label">Decay</label>
                        <input type="range" class="form-range"
                               id="noiseGateDecay"
                               name="noiseGateDecay"
                               min="0" max="31" value="{{.Settings.NoiseGate.Decay}}">
                    </li>
                </ul>
                <div class="card-body">
                    <div class="form-check form-switch">
                        <input type="hidden" role="switch" value="0" name="noiseGateEnabled">
                        <input class="form-check-input" type="checkbox" role="switch" value="1"
                               {{if .Settings.NoiseGate.Active}} checked {{end}}
                               id="noiseGateEnabled"
                               name="noiseGateEnabled"
                        >
                        <label class="form-check-label" for="noiseGateEnabled">
                            активно
                        </label>
                    </div>
                </div>
            </div>
        </div>
        <div class="col-md-3">
            <div class="card">
                <div class="card-header">
                    Compressor
                </div>
                <ul class="list-group list-group-flush">
                    <li class="list-group-item">
                        <label for="compressorSustain" class="form-label">Sustain</label>
                        <input type="range" class="form-range"
                               id="compressorSustain"
                               name="compressorSustain"
                               min="0" max="31" value="{{.Settings.Compressor.Sustain}}">
                    </li>
                    <li class="list-group-item">
                        <label for="compressorVolume" class="form-label">Volume</label>
                        <input type="range" class="form-range"
                               id="compressorVolume"
                               name="compressorVolume"
                               min="0" max="31" value="{{.Settings.Compressor.Volume}}">
                    </li>
                </ul>
                <div class="card-body">
                    <div class="form-check form-switch">
                        <input type="hidden" role="switch" value="0" name="compressorEnabled">
                        <input class="form-check-input" type="checkbox" role="switch" value="1"
                               {{if .Settings.Compressor.Active}} checked {{end}}
                               id="compressorEnabled"
                               name="compressorEnabled"
                        >
                        <label class="form-check-label" for="compressorEnabled">
                            активно
                        </label>
                    </div>
                </div>
            </div>
        </div>

    </div>

    <br>

    <div class="row">
        <div class="col-md-3">
            <div class="card">
                <div class="card-header">
                    Preamp
                </div>

                <ul class="list-group list-group-flush">
                    <li class="list-group-item">
                        <label for="preampLow" class="form-label">Low</label>
                        <input type="range" class="form-range" id="preampLow" min="0" max="127" value="{{index .Settings.PreAmp.Equalizer 0}}">
                    </li>
                    <li class="list-group-item">
                        <label for="preampMid" class="form-label">Mid</label>
                        <input type="range" class="form-range" id="preampMid" min="0" max="127" value="{{index .Settings.PreAmp.Equalizer 1}}">
                    </li>
                    <li class="list-group-item">
                        <label for="preampHigh" class="form-label">High</label>
                        <input type="range" class="form-range" id="preampHigh" min="0" max="127" value="{{index .Settings.PreAmp.Equalizer 2}}">
                    </li>
                    <li class="list-group-item">
                        <label for="preampVolume" class="form-label">Volume</label>
                        <input type="range" class="form-range" id="preampVolume" min="0" max="31" value="{{.Settings.PreAmp.Volume}}">
                    </li>
                </ul>
                <div class="card-body">
                    <div class="form-check form-switch">
                        <input type="hidden" role="switch" value="0" name="preampEnabled">
                        <input class="form-check-input" type="checkbox" role="switch" value="1"
                               {{if .Settings.PreAmp.Active}} checked {{end}}
                               id="preampEnabled"
                               name="preampEnabled"
                        >
                        <label class="form-check-label" for="preampEnabled">
                            активно
                        </label>
                    </div>
                </div>
            </div>
        </div>
        <div class="col-md-3">
            <div class="card">
                <div class="card-header">
                    Reverb
                </div>

                <ul class="list-group list-group-flush">
                    <li class="list-group-item">
                        <label for="reverbType" class="form-label">Скорость отражений</label>
                        <input type="range" class="form-range" id="reverbType" min="0" max="2" value="{{.Settings.EarlyReverb.Type}}">
                    </li>
                    <li class="list-group-item">
                        <label for="reverbVolume" class="form-label">Volume</label>
                        <input type="range" class="form-range" id="reverbVolume" min="0" max="31" value="{{.Settings.EarlyReverb.Volume}}">
                    </li>
                </ul>

                <div class="card-body">
                    <div class="form-check form-switch">
                        <input type="hidden" role="switch" value="0" name="reverbEnabled">
                        <input class="form-check-input" type="checkbox" role="switch" value="1"
                               {{if .Settings.EarlyReverb.Active}} checked {{end}}
                               id="reverbEnabled"
                               name="reverbEnabled"
                        >
                        <label class="form-check-label" for="preampEnabled">
                            активно
                        </label>
                    </div>
                </div>
            </div>
        </div>
        <div class="col-md-3">
            <div class="card">
                <div class="card-header">
                    PowerAmp
                </div>

                <ul class="list-group list-group-flush">
                    <li class="list-group-item">
                        <label for="presenceValue" class="form-label">Presence</label>
                        <input type="range" class="form-range" id="presenceValue" min="0" max="31" value="{{.Settings.Presence.Value}}">
                    </li>
                    <li class="list-group-item">
                        <label for="powerAmpSlave" class="form-label">Slave</label>
                        <input type="range" class="form-range" id="powerAmpSlave" min="0" max="31" value="{{.Settings.PowerAmp.Slave}}">
                    </li>
                    <li class="list-group-item">
                        <label for="powerAmpVolume" class="form-label">Volume</label>
                        <input type="range" class="form-range" id="powerAmpVolume" min="0" max="31" value="{{.Settings.PowerAmp.Volume}}">
                    </li>
                    <li class="list-group-item">
                        <label for="powerAmpType" class="form-label">Тип усилителя</label>
                        <select class="form-select form-select-sm" id="powerAmpType" aria-label="PowerAmpType">
                            {{range $idx, $val := .Settings.AmpTypes }}
                                <option value="{{ $idx }}" {{ if $val.Selected }}selected{{end}}>{{ $val.Name }}</option>
                            {{end}}
                        </select>
                    </li>
                </ul>

                <div class="card-body">
                    <div class="row">
                        <div class="col-sm-6">
                            <div class="form-check form-switch">
                                <input type="hidden" role="switch" value="0" name="powerAmpEnabled">
                                <input class="form-check-input" type="checkbox" role="switch" value="1"
                                       {{if .Settings.PowerAmp.Active}} checked {{end}}
                                       id="powerAmpEnabled"
                                       name="powerAmpEnabled"
                                >
                                <label class="form-check-label" for="powerAmpEnabled">
                                    активно
                                </label>
                            </div>
                        </div>
                        <div class="col-sm-6">
                            <div class="form-check form-switch">
                                <input type="hidden" role="switch" value="0" name="presenceEnabled">
                                <input class="form-check-input" type="checkbox" role="switch" value="1"
                                       {{if .Settings.Presence.Active}} checked {{end}}
                                       id="presenceEnabled"
                                       name="presenceEnabled"
                                >
                                <label class="form-check-label" for="presenceEnabled">
                                    presence
                                </label>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="col-md-3">
            <div class="card">
                <div class="card-header">
                    Cabinet
                </div>

                <ul class="list-group list-group-flush">
                    <li class="list-group-item">
                        <label for="cabinetType" class="form-label">Импульсы на устройстве</label>
                        <select class="form-select form-select-sm" id="cabinetType">
                            <option value="1">One</option>
                            <option value="2">Two</option>
                            <option value="3">Three</option>
                        </select>
                    </li>
                    <li class="list-group-item">
                        <label for="cabinetFromLibraryType" class="form-label">Импульсы в библиотеке</label>
                        <select class="form-select form-select-sm" id="cabinetFromLibraryType">
                            <option value="1">One</option>
                            <option value="2">Two</option>
                            <option value="3">Three</option>
                        </select>
                    </li>
                </ul>

                <div class="card-body">
                    <div class="form-check form-switch">
                        <input type="hidden" role="switch" value="0" name="cabinetEnabled">
                        <input class="form-check-input" type="checkbox" role="switch" value="1"
                               {{if .Settings.Impulse.Active}} checked {{end}}
                               id="cabinetEnabled"
                               name="cabinetEnabled"
                        >
                        <label class="form-check-label" for="cabinetEnabled">
                            активно
                        </label>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <br>

    <div class="row">
        <div class="col-md-5">
            <div class="card">
                <div class="card-header">
                    Фильтры
                </div>

                <ul class="list-group list-group-flush">
                    <li class="list-group-item">
                        <div class="row">
                            <div class="col-sm-6">
                                <label for="highPassFilterValue" class="form-label">HighPassFilter</label>
                                <input type="range" class="form-range" id="highPassFilterValue" min="20" max="1000" value="{{.Settings.HighPassFilter.Value}}">
                            </div>
                            <div class="col-sm-6">
                                <label for="lowPassFilterValue" class="form-label">LowPassFilter</label>
                                <input type="range" class="form-range" id="lowPassFilterValue" min="1000" max="20000" value="{{.Settings.LowPassFilter.Value}}">
                            </div>
                        </div>
                    </li>
                </ul>

                <div class="card-body">
                    <div class="row">
                        <div class="col-sm-6">
                            <div class="form-check form-switch">
                                <input type="hidden" role="switch" value="0" name="highPassFilterActive">
                                <input class="form-check-input" type="checkbox" role="switch" value="1"
                                       {{if .Settings.HighPassFilter.Active}} checked {{end}}
                                       id="highPassFilterActive"
                                       name="highPassFilterActive"
                                >
                                <label class="form-check-label" for="highPassFilterActive">
                                    HP Active
                                </label>
                            </div>
                        </div>
                        <div class="col-sm-6">
                            <div class="form-check form-switch">
                                <input type="hidden" role="switch" value="0" name="lowPassFilterActive">
                                <input class="form-check-input" type="checkbox" role="switch" value="1"
                                       {{if .Settings.LowPassFilter.Active}} checked {{end}}
                                       id="lowPassFilterActive"
                                       name="lowPassFilterActive"
                                >
                                <label class="form-check-label" for="lowPassFilterActive">
                                    LP Active
                                </label>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="col-sm-7">
            <div class="card">
                <div class="card-header">
                    Эквалайзер
                </div>

                <ul class="list-group list-group-flush">
                    <li class="list-group-item">
                        <div class="row">
                            <div class="col-sm-2"><label class="form-label">Добротность</label></div>
                            <!-- 0.1 .. 20 -->
                            <div class="col-sm-2"><input type="range" class="form-range" id="qualityFactor1" min="1" max="200" value="{{index .Settings.Equalizer.QualityFactor 0}}"></div>
                            <div class="col-sm-2"><input type="range" class="form-range" id="qualityFactor2" min="1" max="200" value="{{index .Settings.Equalizer.QualityFactor 1}}"></div>
                            <div class="col-sm-2"><input type="range" class="form-range" id="qualityFactor3" min="1" max="200" value="{{index .Settings.Equalizer.QualityFactor 2}}"></div>
                            <div class="col-sm-2"><input type="range" class="form-range" id="qualityFactor4" min="1" max="200" value="{{index .Settings.Equalizer.QualityFactor 3}}"></div>
                            <div class="col-sm-2"><input type="range" class="form-range" id="qualityFactor5" min="1" max="200" value="{{index .Settings.Equalizer.QualityFactor 4}}"></div>
                        </div>
                    </li>
                    <li class="list-group-item">
                        <div class="row">
                            <div class="col-sm-2"><label class="form-label">Микшер</label></div>
                            <!-- 0.1 .. 20 -->
                            <div class="col-sm-2"><input type="range" class="form-range" id="mixer1" min="-15" max="15" value="{{index .Settings.Equalizer.Mixer 0}}"></div>
                            <div class="col-sm-2"><input type="range" class="form-range" id="mixer2" min="-15" max="15" value="{{index .Settings.Equalizer.Mixer 1}}"></div>
                            <div class="col-sm-2"><input type="range" class="form-range" id="mixer3" min="-15" max="15" value="{{index .Settings.Equalizer.Mixer 2}}"></div>
                            <div class="col-sm-2"><input type="range" class="form-range" id="mixer4" min="-15" max="15" value="{{index .Settings.Equalizer.Mixer 3}}"></div>
                            <div class="col-sm-2"><input type="range" class="form-range" id="mixer5" min="-15" max="15" value="{{index .Settings.Equalizer.Mixer 4}}"></div>
                        </div>
                    </li>
                    <li class="list-group-item">
                        <div class="row">
                            <div class="col-sm-2"><label class="form-label">Частоты</label></div>
                            <div class="col-sm-2"><input type="range" class="form-range" id="frequencies1" min="20" max="220" value="{{index .Settings.Equalizer.Frequencies 0}}"></div>
                            <div class="col-sm-2"><input type="range" class="form-range" id="frequencies2" min="260" max="460" value="{{index .Settings.Equalizer.Frequencies 1}}"></div>
                            <div class="col-sm-2"><input type="range" class="form-range" id="frequencies3" min="600" max="1000" value="{{index .Settings.Equalizer.Frequencies 2}}"></div>
                            <div class="col-sm-2"><input type="range" class="form-range" id="frequencies4" min="1000" max="3000" value="{{index .Settings.Equalizer.Frequencies 3}}"></div>
                            <div class="col-sm-2"><input type="range" class="form-range" id="frequencies5" min="1000" max="11000" value="{{index .Settings.Equalizer.Frequencies 4}}"></div>
                        </div>
                    </li>
                </ul>

                <div class="card-body">
                    <div class="row">
                        <div class="col-sm-2">
                            <div class="form-check form-switch">
                                <input type="hidden" role="switch" value="0" name="equalizerEnabled">
                                <input class="form-check-input" type="checkbox" role="switch" value="1"
                                       {{if .Settings.Equalizer.Active}} checked {{end}}
                                       id="equalizerEnabled"
                                       name="equalizerEnabled"
                                >

                                <label class="form-check-label" for="equalizerEnabled">
                                    активно
                                </label>
                            </div>
                        </div>

                        <div class="col-sm-10">
                            <div class="form-check form-switch">
                                <input class="form-check-input" type="checkbox" role="switch" value="1"
                                       {{if .Settings.Equalizer.Position}} checked {{end}}
                                       id="equalizerPosition"
                                       name="equalizerPosition"
                                >

                                <label class="form-check-label" for="equalizerPosition">
                                    до преампа
                                </label>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

</div>
{{end}}